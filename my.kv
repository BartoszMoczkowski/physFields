#:kivy 1.0.9
<Menu>:
    id : Menu
    orientation: 'horizontal'
    spacing : 10
    BoxLayout:
        size_hint : (0.3,1)
        orientation: 'vertical'


        GridLayout:
            cols : 1

            Label:
                text: "grid shape (width, height)"
            GridLayout:
                size_hint_y : None
                height : 30
                cols : 2
                IntInput:
                    id : width_input
                    text : "20"
                IntInput:
                    id : height_input
                    text : "20"

            Label:
                text: "side length (width, height)"
            GridLayout:
                size_hint_y : None
                height : 30
                cols : 2
                FloatInput:
                    id : len_x_input
                    text : "1"
                FloatInput:
                    id : len_y_input
                    text : "1"
                    

        Label:
            text : "Layers"
            height : 20
        GridLayout:
            height : 80
            size_hint_y : None
            cols : 2
            Label:
                text : 'Space'
            CheckBox:
                group : "edit_select"
                on_active : Display.button_set_layer(0,self.active)
            Label:
                text : 'Material'
            CheckBox:
                group : "edit_select"
                on_active : Display.button_set_layer(1,self.active)
            
            Label:
                text : 'Temperature'
            CheckBox:
                group : "edit_select"
                on_active : Display.button_set_layer(2,self.active)
            Label:
                text : 'Heat Flux'
            CheckBox:
                group : "edit_select"
                on_active : Display.button_set_layer(3,self.active)


        GridLayout:
            cols : 1
            height : 120
            size_hint_y : None
            Label:
                text: "edit value"
           
            FloatInput:
                id : value_input
                text : "1"

            Label:
                text: "hover value"
            Label:
                id : material_display
                text: "0"

        # AnchorLayout:
        #     orientation: 'vertical'
        #     size_hint_y : None
        #     height : 200
        #     __safe_id: [element_select.__self__]

        #     Button:
        #         id : drop_button
        #         text: 'Elements : '
        #         anchor_y : 'top'
        #         height : 40
        #         size_hint : (1,None)
        #         on_release : element_select.open(drop_button)
        #     CustomDropdown:
        #         id : element_select
        #         anchor_y : 'bottom'

        #         on_select : 
        #             drop_button.text = args[1]
        #             Display.elements = 1 if args[1] == 'Rectangles' else 0

        #         Button:
        #             text: 'Elements : Rectangles'
        #             size_hint_y : None
        #             height : 34
        #             on_release : element_select.select('Rectangles')
        #         Button:
        #             text: 'Elements : Triangles'
        #             size_hint_y : None
        #             height : 34
        #             on_release : element_select.select('Triangles')
            
        Button:
            height : 60
            size_hint : (1,None)
            text: "Run"
            on_release : root.onApply()
        
        Button:
            height : 30
            size_hint : (1,None)
            text: "Save heatmap"
            on_release : Display.save_heatmap()
        
    BoxLayout:
        orientation: 'vertical'
        size_hint : (0.7,1)
        DisplayCanvas:
            id : Display

            
            canvas.before:
                Color:
                    rgb:(1,1,1,1)
        
        BoxLayout:
            orientation: 'horizontal'
            size_hint : (1,0.2)
            Button:
                text: 'Edit'
                id : edit_button
                on_release : Display.button_set_state(1)
                background_color : 0.2,1,0.3

            Button:
                text: 'Clear'
                id : clear_button
                on_release : Display.button_set_state(2)




